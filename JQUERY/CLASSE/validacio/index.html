<!DOCTYPE>
<html>
	<head>
		<title>Validació Formulari</title>
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	</head>
	<body>
		NOM: <input type="text" id="d1" /><span id="e1"></span><br/>
		EDAT: <input type="number" id="d2" /><span id="e2"></span><br/>
		EMAIL: <input type="text" id="d3" /><span id="e3"></span><br/>
		SEXE: <select id="d4">
					<option value="0">Tria un</option>
					<option value="H">HOME</option>
					<option value="D">DONA</option>
				</select><span id="e4"></span><br/>
		HOBBIES: <input type="checkbox" id="d5" />Futbol 
				 <input type="checkbox" id="d6" />Lectura 
				 <input type="checkbox" id="d7" />Escacs 
				 <input type="checkbox" id="d8" />Aerobic 
				 <span id="e5"></span>
				 <br/>
		UNIVERSITARI: <input type="radio" name="univ" id="d9" value="S" />Sí  
					  <input type="radio" name="univ" id="d10" value="N" />No  
					  <span id="e9"></span><br/>
		<input type="button" id="b1" value="VALIDATE"/>
		<script>

			function validateName(){
				var n = $("#d1").val();
				if( n==null || n==""){
					showError("#d1","#e1","Camp obligatori!!!");

				}
				else {
					showOk("#d1","#e1");
				}
			}

			function validateAge(){
				
				var a = parseInt($("#d2").val());

				if(a>=18 && a<=67){
					showOk("#d2","#e2");
				}
				else {
					showError("#d2","#e2","Valor entre 18 i 67 !!!");
				}
			}

			function validateEmail(){
				var e = $("#d3").val();
				var atpos=e.indexOf("@");
				var dotpos=e.lastIndexOf(".");
				if (atpos<1 || dotpos<atpos+2 || dotpos+2>=e.length){
					showError("#d3","#e3","Email !!!");
 				}
 				else {
 					showOk("#d3","#e3");
 				}
			}

			function validateSex(){
				var s = $("#d4").val();
				if(s==0){
					showError("#d4","#e4","Home o Dona !!!");
				}
				else {
					showOk("#d4","#e4");
				}
			}

			function validateHobbies(){
				var n = $(":checked").length - 1;
				if(n>=2 && n<4){
					showOk("#e5","#e5");
				}
				else {
					showError("#e5","#e5","2, 3 o 4!!!");
				}
			}

			function validateUniversity(){

				var u = $("input[name='univ']:checked").val();
				if(u=="N"){
					showOk("#e9", "#e9");
				} else {
					showError("#e9", "#e9", "No !!!")
				}
			}

			function showError(idf, ids, m){
				$(idf).css("background-color", "red");
				$(ids).text(m);
			}

			function showOk(idf, ids){
				$(idf).css("background-color", "green");
				$(ids).text("Correcte!!");
			}


			function validateData(){
				validateName();
				validateAge();
				validateEmail();
				validateSex();
				validateHobbies();
				validateUniversity();
			}


			$(document).ready(function(){

				$("#b1").click(function(){
					
					validateData();

				});

			});
		</script>
	</body>
</html>